# 🏃 런닝 앱

조직 내 러닝 활동을 체계적으로 관리하고, 개인 기록 추적 및 팀 미션 수행을 지원하는 웹 기반 애플리케이션입니다.

## 주요 기능

- **회원 관리**: 회원 정보 등록, 수정, 삭제 및 조별 관리
- **런닝 기록**: 개인 런닝 기록 등록 및 통계 조회
- **주간 미션**: 조별 미션 생성 및 진행률 추적
- **개인 베스트 기록**: 10km, 하프 마라톤, 풀 마라톤 최고 기록 자동 갱신
- **페이스 자동 계산**: 거리와 시간을 입력하면 페이스가 자동으로 계산됩니다

## 기술 스택

- **프론트엔드**: HTML, CSS, JavaScript
- **백엔드/데이터베이스**: Supabase (PostgreSQL)
- **라이브러리**: Supabase JavaScript Client

## 시작하기

### 1. 파일 구조

```
runCode/
├── index.html          # 메인 대시보드
├── members.html         # 회원 관리 페이지
├── records.html         # 런닝 기록 페이지
├── missions.html        # 주간 미션 페이지
├── config.js           # Supabase 설정
├── index.js            # 대시보드 로직
├── members.js          # 회원 관리 로직
├── records.js          # 런닝 기록 로직
├── missions.js         # 주간 미션 로직
├── style.css           # 공통 스타일
└── README.md           # 이 파일
```

### 2. 실행 방법

1. 모든 파일을 웹 서버에 업로드하거나 로컬에서 실행합니다.
2. 브라우저에서 `index.html`을 엽니다.
3. Supabase 데이터베이스는 이미 설정되어 있습니다.

### 3. Supabase 설정

`config.js` 파일에 Supabase 프로젝트 URL과 API 키가 이미 설정되어 있습니다. 
다른 Supabase 프로젝트를 사용하려면 `config.js` 파일을 수정하세요.

## 사용 방법

### 회원 관리

1. **회원 등록**: "회원 등록" 버튼을 클릭하여 새 회원을 추가합니다.
2. **회원 조회**: 조별 필터나 검색 기능을 사용하여 회원을 찾습니다.
3. **회원 수정/삭제**: 각 회원의 "수정" 또는 "삭제" 버튼을 클릭합니다.

### 런닝 기록

1. **기록 등록**: "기록 등록" 버튼을 클릭하여 새로운 런닝 기록을 추가합니다.
   - 거리와 시간을 입력하면 페이스가 자동으로 계산됩니다.
   - 10km, 하프 마라톤, 풀 마라톤 범위의 기록은 자동으로 개인 베스트 기록으로 갱신됩니다.
2. **기록 조회**: 기간 필터를 사용하여 원하는 기간의 기록을 조회합니다.
3. **통계 확인**: 기록 목록 상단에 총 거리, 총 시간, 평균 페이스, 런닝 횟수가 표시됩니다.

### 주간 미션

1. **미션 등록**: "미션 등록" 버튼을 클릭하여 새로운 주간 미션을 생성합니다.
2. **미션 조회**: 연도 및 활성화 상태 필터를 사용하여 미션을 조회합니다.
3. **미션 상세**: 미션 카드를 클릭하면 조별 진행 현황과 달성률을 확인할 수 있습니다.

## 데이터베이스 구조

### rc_member (회원)
- `member_id`: 회원 고유 ID
- `name`: 이름
- `department`: 부서
- `team`: 조편성 (A~F)
- `best_10km`, `best_half`, `best_full`: 개인 베스트 기록

### rc_running_record (런닝 기록)
- `record_id`: 기록 고유 ID
- `member_id`: 회원 ID (외래키)
- `running_date`: 런닝 날짜
- `distance`: 거리 (km)
- `running_time`: 런닝 시간
- `pace`: 페이스 (자동 계산)
- `memo`: 메모

### rc_weekly_mission (주간 미션)
- `mission_id`: 미션 고유 ID
- `year`, `week_number`: 년도 및 주차
- `title`: 미션 제목
- `target_distance`: 목표 거리
- `start_date`, `end_date`: 기간
- `is_active`: 활성화 여부

## 주요 기능 설명

### 개인 베스트 기록 자동 갱신

런닝 기록을 등록할 때 다음 조건을 만족하면 자동으로 개인 베스트 기록이 갱신됩니다:
- **10km**: 9.5km ~ 10.5km 범위
- **하프 마라톤**: 20.5km ~ 21.5km 범위
- **풀 마라톤**: 41.5km ~ 43.0km 범위

기존 기록보다 빠른 시간이면 자동으로 업데이트됩니다.

### 페이스 자동 계산

거리(km)와 시간(HH:MM:SS)을 입력하면 페이스(분/km)가 자동으로 계산되어 표시됩니다.

### 주간 미션 진행률

각 미션의 조별 진행률은 다음을 기준으로 계산됩니다:
- 조별 총 거리
- 조별 평균 거리
- 목표 거리 대비 달성률

## 브라우저 호환성

- Chrome (최신 버전)
- Firefox (최신 버전)
- Safari (최신 버전)
- Edge (최신 버전)

## 라이선스

이 프로젝트는 개인 및 조직 내부 사용을 목적으로 합니다.

